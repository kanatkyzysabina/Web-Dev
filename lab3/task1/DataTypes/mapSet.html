<!DOCTYPE html>
<script>
    "use strict";
    // Map - is a collection of keyed data items, just like an Object. 
    // But the main difference is that Map allows keys of any type.
    /*
    Methods and Properties:
    new Map() – creates the map.
    map.set(key, value) – stores the value by the key.
    map.get(key) – returns the value by the key, undefined if key doesn’t exist in map.
    map.has(key) – returns true if the key exists, false otherwise.
    map.delete(key) – removes the element (the key/value pair) by the key.
    map.clear() – removes everything from the map.
    map.size – returns the current element count.
    */
/*
   let map = new Map();
    map.set('1', 'str1');   // a string key
    map.set(1, 'num1');     // a numeric key
    map.set(true, 'bool1');
    alert( map.get(1)   ); // 'num1'
    alert( map.get('1') ); // 'str1'

    // Iteration over Map
    /*
    map.keys() – returns an iterable for keys,
    map.values() – returns an iterable for values,
    map.entries() – returns an iterable for [key, value]
    */
/*
   let recipeMap = new Map([
    ['cucumber', 500],
    ['tomatoes', 350],
    ['onion',    50]
    ]);
    // iterate over keys (vegetables)
    for (let vegetable of recipeMap.keys()) {
    alert(vegetable); // cucumber, tomatoes, onion
    }


    // SET - each value in set may occur ONLY ONCE
    /*
    Its main methods are:
    new Set([iterable]) – creates the set, and if an iterable object is provided (usually an array), copies values from it into the set.
    set.add(value) – adds a value, returns the set itself.
    set.delete(value) – removes the value, returns true if value existed at the moment of the call, otherwise false.
    set.has(value) – returns true if the value exists in the set, otherwise false.
    set.clear() – removes everything from the set.
    set.size – is the elements count.
    */
/*
    let set = new Set();
    let john = { name: "John" };
    let pete = { name: "Pete" };
    let mary = { name: "Mary" };
    // visits, some users come multiple times
    set.add(john);
    set.add(pete);
    set.add(mary);
    set.add(john);
    set.add(mary);
    // set keeps only unique values
    alert( set.size ); // 3

    // - - TASKS - - 
*/
    // 1
    function unique(arr) {
        let unique_values = new Set(arr);
        return Array.from(unique_values);
    }
    let values = ["Hare", "Krishna", "Hare", "Krishna",
    "Krishna", "Krishna", "Hare", "Hare", ":-O"
    ];
    alert( unique(values) ); // Hare, Krishna, :-O

    // 2
    function aclean(arr) {
    let map = new Map();

    for (let word of arr) {
        let sorted = word.toLowerCase().split('').sort().join(''); 
        map.set(sorted, word);
    }

    return Array.from(map.values());
    }

    let arr = ["nap", "teachers", "cheaters", "PAN", "ear", "era", "hectares"];

    alert( aclean(arr) );

    // 3
    let map = new Map();

    map.set("name", "John");

    let keys = Array.from(map.keys());

    keys.push("more");

    alert(keys);



    

</script>