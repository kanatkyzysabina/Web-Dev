<!DOCTYPE html>
<script>

    "use strict";
/*
    //Backticks allow: multiple lines
    let guestList = `Guests:
    - John
    - Mart
    - Pete`;
    alert(guestList);

    // String Length
    alert(guestList.length);
    // Accessing chars
    let str = `Hello`;
    alert( str[0] ); // H
    alert( str.at(0) ); // H

    // the last chat
    alert(str[str.length-1]);
    alert(str.at(-1));
    
    // loop iterating
    for(let char in str){
        alert(char);
    }

    // Strings are unchangable in JS
    // str[0] = 'h' shows error, but this method works:
    let s = "Hi";
    str = "h"+s[1];
    alert(s);

    // indexOf(substr, pos) method
    let st1 = 'Widget with id';
    alert( str1.indexOf('Widget') ); // 0, because 'Widget' is found at the beginning
    alert( str1.indexOf('widget') ); // -1, not found, the search is case-sensitive

    // methods includes, startsWith, endsWith
    alert( "Widget with id".includes("Widget") ); // true
    alert( "Widget".startsWith("Wid") ); // true, "Widget" starts with "Wid"
    alert( "Widget".endsWith("get") ); // true, "Widget" ends with "get"


    // Getting a substring: 
    // str.slice(start [, end]) - allows negatives
    let str3 = "stringify";
    alert( str3.slice(0, 5) ); // 'strin', the substring from 0 to 5 (not including 5)
    alert( str3.slice(0, 1) ); // 's', from 0 to 1, but not including 1, so only character at 0

    //str.substring(start [, end]) - allows start to be greater than end
    alert( str.substring(2, 6) ); // "ring"
    alert( str.substring(6, 2) ); // "ring"

    // substr - allows negative
    alert( str3.substr(2, 4) ); // 'ring', from the 2nd position get 4 characters

    //There are special methods that allow to get the character for the code and back:
    // str.codePointAt(pos)
    // different case letters have different codes
    alert( "Z".codePointAt(0) ); // 90
    alert( "z".codePointAt(0) ); // 122
    alert( "z".codePointAt(0).toString(16) ); // 7a (if we need a hexadecimal value)

    // String.fromCodePoint(code) - Creates a character by its numeric code
    alert( String.fromCodePoint(90) ); // Z

    /* international comparison
    The call str.localeCompare(str2) returns an integer indicating whether str is less,
     equal or greater than str2 according to the language rules:

    Returns a negative number if str is less than str2.
    Returns a positive number if str is greater than str2.
    Returns 0 if they are equivalent.*/
    alert( 'Österreich'.localeCompare('Zealand') ); // -1



    // - - TASKS - -
    // task 1
    function ucFirst(str){
        if(!str) return str;
        return str[0].toUpperCase() + str.slice(1);
    }
    alert(ucFirst("john"));

    // task 2
    function checkSpam(str){
        let lowerStr = str.toUpperCase();
        if(lowerStr.includes('VIAGRA') || lowerStr.includes('XXX')) return true;
        return false;
    }
    alert(checkSpam('buy ViAgRA now'));
    alert(checkSpam('free xxxxx'));
    alert(checkSpam("innocent rabbit"));

    // task 3
    function truncate(str, maxlength) {
        return (str.length > maxlength) ?
        str.slice(0, maxlength - 1) + '…' : str;
    }

    // task 4
    function extractCurrencyValue(str) {
    return +str.slice(1);
    }


</script>
